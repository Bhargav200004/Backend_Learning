npm test || exit 1

# Get staged files
FILES=$(git diff --cached --name-only --diff-filter=ACMR | sed 's| |\\ |g')

prettier --check $FILES --ignore-unknown

if [ $? -ne 0 ]; then
  echo "‚ùå Prettier found formatting issues. Please run: prettier --write <filename>"
  exit 1
fi